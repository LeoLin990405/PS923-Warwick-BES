setwd("~/Documents/GitHub/PS923-Warwick-BES")
#library package
library(tidyverse)
#1. Load in well-being-wide.csv #wd:"/Users/leo/Documents/GitHub/PS923-Warwick-BES"
wb1=read_csv("well-being-wide.csv")
#wb1-wb2 Convert w1 to tidy version
wb2=wb1%>%
pivot_longer(!sub & !dep,
names_to = "time",values_to = "well_being")%>%
arrange(time,sub,dep,well_being)
str(wb2)
#wb2_test Compare the created wb2 data frames to meet the homework requirements
wb2_test=read.csv("well-being-long.csv")
str(wb2_test)
mean_by_timepoint=wb2%>%
group_by(time)%>%
summarise(mean=mean(well_being))
mean_by_timepoint
mean_by_dep=wb2%>%
group_by(dep,time)%>%
summarise(mean=mean(well_being))
mean_by_dep
wb_pre=wb2%>%
mutate(time=factor(time,c("t1","t2")),
sub=factor(sub),
dep=factor(dep))%>%
filter(!is.na(time))
wb_pre
wb2=wb2%>%
group_by(dep)%>%
mutate(well_being_z=(well_being-mean(well_being))/sd(well_being))
wb2
wb2=wb2%>%
mutate(pre_post=
case_when(time=="t1"~"pre",
time=="t2"~"pre",
time!="t1"~"post"))
wb2
ab_wb=wb2%>%
group_by(pre_post,sub,dep)%>%
summarise(mean=mean(well_being),
mean_z=mean(well_being_z))
ab_wb
#s6 has the lagrgest difference and s5 has the smallest difference
diff_wb=ab_wb%>%
select(-mean_z)%>%
spread(pre_post,mean)%>%
mutate(diff=post-pre)
#Find the participant with the maximum value of the difference
max_diff_wb=diff_wb%>%
summarise(max=max(diff),)%>%
arrange(diff_wb,desc(max))%>%
select(sub,max)
#Find the participant with the minimum value of the difference
min_diff_wb=diff_wb%>%
summarise(min=min(diff))%>%
arrange(diff_wb,min)%>%
select(sub,min)
max_diff_wb
min_diff_wb
diff_wb
#s6 has the lagrgest unstandardised and standardised well-being scores
#
z_diff_wb=ab_wb%>%
select(-mean)%>%
spread(pre_post,mean_z)%>%
mutate(diff=post-pre)
z_max_diff_wb=z_diff_wb%>%
summarise(max=max(diff))%>%
arrange(z_diff_wb,max)%>%
select(sub,max)
z_min_diff_wb=z_diff_wb%>%
summarise(min=min(diff))%>%
arrange(z_diff_wb,desc(min))%>%
select(sub,min)
z_diff_wb
z_max_diff_wb
z_min_diff_wb
av_wb=diff_wb%>%
summarise(av_diff=mean(diff))
av_wb_z=z_diff_wb%>%
summarise(av_diff_z=mean(diff))
av_wb
av_wb_z
h1=function(x,n){
result=1
for (i in 1:n) {
result=result+x^i
}
return(result)
}
h2=function(x,n){
result=1
i=1
while (i<=n) {
result=result+x**i
i=i+1
}
return(result)
}
h3=function(x,n){
vector=c(0:n)
result=sum(x^vector)
return(result)
}
h4=function(x,n){
#when x=1
if(x==1){
n_tmp=c(0:n)
return(sum(x^n_tmp))
}else{
return(1-x^(n+1)/(1-x))
}
}
#h1-testing
h1(0.3,55)
h1(6.6,8)
h1(1,12)
#h2-testing
h2(0.3,55)
h2(6.6,8)
h2(1,12)
#h3-testing
h3(0.3,55)
h3(6.6,8)
h3(1,12)
#h4-testing
h4(0.3,55)
h4(6.6,8)
h4(1,12)
